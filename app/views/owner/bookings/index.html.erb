<div class="container text-center">
  <h1><strong>Your Bookings</strong></h1>
</div>
<div class = "container">
  <div class="bookings">
    <% @bookings.each do |booking| %>
      <div class="card mb-3">
        <div class="row g-0">
          <div class="col-md-4">
            <% cup = booking.cup %>
            <div class="cup-image">
              <%= image_tag cup.photo.url, class: 'img-thumbnail' if cup.photo.attached? %>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <h5 class="card-title">
                <%= cup.name %>
              </h5>
              <p class="card-text">User: <strong><%= cup.user.name %></strong> would like to book this cup.
                <br>
                <%= booking.start_date %> - <%= booking.return_date %></p>
              <div class="card-text" style="font-size: 28px; margin-bottom: 10px; color: <%= booking.status == 'accepted' ? 'green' : (booking.status == 'rejected' ? 'red' : '') %>;">
                <%= booking.status %>
              </div>
            </div>
            <% if booking.pending? %>
              <div class="d-flex flex-column align-items-end">
                <%= simple_form_for booking, url: owner_booking_path(booking), method: :patch do |f| %>
                  <%= f.input :status, as: :hidden, input_html: { value: 'accepted'} %>
                  <%= f.submit 'Accept', class: 'btn btn-info btn-lg mb-2' %>
                <% end %>
                <%= simple_form_for booking, url: owner_booking_path(booking), method: :patch do |f| %>
                  <%= f.input :status, as: :hidden, input_html: { value: 'rejected'} %>
                  <%= f.submit 'Reject', class: 'btn btn-light btn-lg' %>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
